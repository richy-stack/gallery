<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Materialize CSS -->
  <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css"
        integrity="sha512-Vo7MXD/cmKU0A+ZT3F5kM5Nl6t5d2ZlaQHq6XemzCQbTrTWSd5sxjZV+aRZRy641YqsTIJsuPCz2e1mquNJ3mw=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />

  <!-- Google Icons -->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

  <link rel="stylesheet" href="/css/styles.css">
  <title>Darkroom</title>
</head>

<body style="background-color:#f4f4f4;">

  <!-- Milestone banners -->
  <h1 style="color:green; text-align:center; margin-top:20px;">MILESTONE 2</h1>
  <h1 style="color:blue;  text-align:center; margin-top:10px;">MILESTONE 3</h1>
  <h1 style="color:red;   text-align:center; margin-top:10px;">MILESTONE 4</h1>

  <!-- Navbar -->
  <div class="navbar-fixed">
    <nav class="turquoise">
      <div class="nav-wrapper container">
        <a href="/" class="brand-logo">Darkroom</a>
        <form class="right">
          <div class="input-field">
            <input id="search" type="search" required>
            <label class="label-icon" for="search"><i class="material-icons">search</i></label>
            <i class="material-icons">close</i>
          </div>
        </form>
      </div>
    </nav>
  </div>

  <div class="container">
    <h1>Image Upload</h1>
    <%= typeof msg !== 'undefined' ? msg : '' %>

    <!-- Upload form -->
    <form action="/upload" method="POST" enctype="multipart/form-data">
      <div class="file-field input-field">
        <div class="btn grey">
          <span>Image</span>
          <input name="image" type="file">
        </div>
        <div class="file-path-wrapper">
          <input class="file-path validate" type="text">
        </div>
      </div>
      <button type="submit" class="btn">Submit</button>
    </form>

    <hr><br>

    <!-- Image grid -->
    <div class="row">
      <% (images || []).forEach(function(image){ %>
        <div class="column">
          <a href="/image/<%= image._id %>">
            <img src="<%= image.path %>" style="width:100%; height:auto;">
          </a>
        </div>
      <% }); %>
    </div>
  </div>

  <!-- Scripts -->
  <script src="https://code.jquery.com/jquery-3.5.1.min.js"
          integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
          crossorigin="anonymous"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"
          integrity="sha512-8AKqsN3CFKQHjLNrWl/oV+j+xAiONlPW5jRUEeBdb59d4fy1lMj/KZpLPCqRYkJdx/eDUaqfePMBypq5l+ebjw=="
          crossorigin="anonymous" referrerpolicy="no-referrer"></script>
</body>
</html>

